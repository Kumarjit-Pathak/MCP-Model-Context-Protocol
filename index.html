<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brewing Intelligence: From Chai Orders to MCP Servers | Tech Blog</title>
    <link rel="stylesheet" href="blog-style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:wght@300;400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Blog Header -->
    <header class="blog-header">
        <nav class="blog-nav">
            <div class="nav-content">
                <a href="index.html" class="logo">‚òï Brewing Intelligence</a>
                <div class="nav-links">
                    <a href="#introduction">Read Article</a>
                    <a href="index.html">Interactive Version</a>
                </div>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <article class="blog-article">
        <div class="article-hero">
            <div class="article-meta-top">
                <span class="article-category">Technology</span>
                <span class="article-dot">‚Ä¢</span>
                <span class="article-date">January 2025</span>
            </div>

            <h1 class="article-title">Brewing Intelligence: From Chai Orders to MCP Servers</h1>

            <p class="article-subtitle">A complete guide to building agentic AI systems with the Model Context Protocol</p>

            <div class="article-meta">
                <div class="author-info">
                    <div class="author-avatar"></div>
                    <div class="author-details">
                        <div class="author-name">AI Systems Research</div>
                        <div class="author-stats">
                            <span>25 min read</span>
                            <span class="meta-dot">‚Ä¢</span>
                            <span>Jan 13, 2025</span>
                        </div>
                    </div>
                </div>
                <div class="article-actions">
                    <button class="action-btn">üîñ Save</button>
                    <button class="action-btn">üì§ Share</button>
                </div>
            </div>
        </div>

        <!-- Table of Contents -->
        <aside class="table-of-contents">
            <div class="toc-sticky">
                <h3>Table of Contents</h3>
                <nav class="toc-nav">
                    <a href="#introduction" class="toc-link">1. The Chai Order Story</a>
                    <a href="#agentic-ai" class="toc-link">2. Understanding Agentic AI</a>
                    <a href="#business-case" class="toc-link">3. The Business Case</a>
                    <a href="#challenges" class="toc-link">4. Challenges in Building Agents</a>
                    <a href="#mcp-intro" class="toc-link">5. Introducing MCP</a>
                    <a href="#architecture" class="toc-link">6. MCP Architecture</a>
                    <a href="#solutions" class="toc-link">7. How MCP Solves Challenges</a>
                    <a href="#building" class="toc-link">8. Building Your First MCP Server</a>
                    <a href="#deployment" class="toc-link">9. Production Deployment</a>
                    <a href="#security" class="toc-link">10. Security Best Practices</a>
                    <a href="#limitations" class="toc-link">11. Limitations</a>
                    <a href="#conclusion" class="toc-link">12. Conclusion</a>
                </nav>
            </div>
        </aside>

        <!-- Main Content -->
        <div class="article-content">
            <!-- Introduction -->
            <section id="introduction" class="content-section">
                <h2>The Chai Order That Changed Everything</h2>

                <p class="lead-text">Let's begin with a scenario so relatable it's basically in your kitchen drawer.</p>

                <p>You wake up at 7:30 am. Your mug is empty. You mutter, <em>"Order chai from my favorite caf√© when it starts raining and I'm still at office."</em></p>

                <div class="comparison-box">
                    <div class="comparison-item chatbot-style">
                        <h4> Regular Chatbot</h4>
                        <p class="response-text">"Okay, setting a reminder at 6 pm."</p>
                        <span class="badge passive-badge">Passive Response</span>
                    </div>

                    <div class="comparison-item agent-style">
                        <h4> Agentic AI</h4>
                        <ul class="action-list">
                            <li>‚úì Monitors weather continuously</li>
                            <li>‚úì Checks your GPS location</li>
                            <li>‚úì Places order at optimal time</li>
                            <li>‚úì Coordinates delivery details</li>
                            <li>‚úì Sends notification</li>
                        </ul>
                        <p class="response-text">"Your chai is arriving in 5 minutes. Enjoy!"</p>
                        <span class="badge active-badge">Proactive Action</span>
                    </div>
                </div>

                <p>This seemingly simple task reveals the profound shift happening in artificial intelligence‚Äîfrom <strong>passive responders</strong> to <strong>proactive, autonomous agents</strong>.</p>

                <blockquote class="pullquote">
                    "Agentic AI fundamentally upgrades the paradigm from 'assist me' to 'manage this end-to-end.'"
                </blockquote>
            </section>

            <div class="section-divider"></div>

            <!-- Agentic AI Section -->
            <section id="agentic-ai" class="content-section">
                <h2>Understanding Agentic AI</h2>

                <h3>What Is Agentic AI?</h3>

                <p>Agentic AI represents a fundamental evolution in how we interact with intelligent systems. Unlike traditional chatbots that simply respond to queries, agentic AI systems can:</p>

                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">üéØ</div>
                        <h4>Reason</h4>
                        <p>Analyze complex, multi-step problems and make informed decisions</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">üìã</div>
                        <h4>Plan</h4>
                        <p>Decompose goals into executable sequences of actions</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">üîç</div>
                        <h4>Fetch</h4>
                        <p>Access real-time context from multiple data sources</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">‚ö°</div>
                        <h4>Act</h4>
                        <p>Execute actions autonomously without constant supervision</p>
                    </div>
                </div>

                <h3>The Chai Ordering Workflow</h3>

                <p>In our chai example, the agent doesn't just acknowledge your request‚Äîit orchestrates an entire workflow:</p>

                <div class="workflow-diagram">
                    <div class="workflow-step">
                        <span class="step-num">1</span>
                        <div class="step-info">
                            <h4>Monitor Weather</h4>
                            <p>Continuously track conditions</p>
                        </div>
                    </div>
                    <div class="workflow-arrow">‚Üí</div>
                    <div class="workflow-step">
                        <span class="step-num">2</span>
                        <div class="step-info">
                            <h4>Track Location</h4>
                            <p>Check GPS position</p>
                        </div>
                    </div>
                    <div class="workflow-arrow">‚Üí</div>
                    <div class="workflow-step">
                        <span class="step-num">3</span>
                        <div class="step-info">
                            <h4>Select Caf√©</h4>
                            <p>Choose from preferences</p>
                        </div>
                    </div>
                    <div class="workflow-arrow">‚Üí</div>
                    <div class="workflow-step">
                        <span class="step-num">4</span>
                        <div class="step-info">
                            <h4>Place Order</h4>
                            <p>Execute at optimal time</p>
                        </div>
                    </div>
                    <div class="workflow-arrow">‚Üí</div>
                    <div class="workflow-step">
                        <span class="step-num">5</span>
                        <div class="step-info">
                            <h4>Coordinate</h4>
                            <p>Manage delivery details</p>
                        </div>
                    </div>
                    <div class="workflow-arrow">‚Üí</div>
                    <div class="workflow-step">
                        <span class="step-num">6</span>
                        <div class="step-info">
                            <h4>Notify User</h4>
                            <p>Send timely updates</p>
                        </div>
                    </div>
                </div>
            </section>

            <div class="section-divider"></div>

            <!-- Business Case -->
            <section id="business-case" class="content-section">
                <h2>The Business Case for Agentic Systems</h2>

                <p>The motivation for agentic systems extends far beyond convenience. Recent research highlights the economic potential:</p>

                <div class="stats-showcase">
                    <div class="stat-item">
                        <div class="stat-value">$4.6T</div>
                        <div class="stat-label">Economic Value</div>
                        <div class="stat-source">Capgemini, 2025</div>
                    </div>

                    <div class="stat-item">
                        <div class="stat-value">200+</div>
                        <div class="stat-label">Production Apps</div>
                        <div class="stat-source">IEEE, 2025</div>
                    </div>

                    <div class="stat-item">
                        <div class="stat-value">#1</div>
                        <div class="stat-label">Enterprise Priority</div>
                        <div class="stat-source">McKinsey, 2025</div>
                    </div>
                </div>

                <h3>Key Drivers</h3>

                <div class="info-box">
                    <h4>üìä Live Data Access</h4>
                    <p>Training data freezes at a point in time, but the world doesn't. Weather changes minute by minute, stock prices fluctuate continuously, and news breaks in real-time. Without real-time data access, our chai agent might decide "no rain" based on stale forecasts.</p>
                </div>

                <div class="info-box">
                    <h4>üîó Multi-Step Orchestration</h4>
                    <p>Real-world workflows are rarely atomic. Each step may involve different systems, APIs, and authorization scopes. Agents can manage these chains cohesively.</p>
                </div>

                <div class="info-box">
                    <h4>üöÄ Scalability & Parallelization</h4>
                    <p>Imagine an agent managing dozens of simultaneous tasks‚Äîdrafting emails, analyzing metrics, monitoring security, processing requests, and generating reports. Each task independently decides which tools to invoke, enabling massive parallelization.</p>
                </div>
            </section>

            <div class="section-divider"></div>

            <!-- Challenges -->
            <section id="challenges" class="content-section">
                <h2>Challenges in Building Autonomous Agents</h2>

                <p class="intro-text">With great autonomy comes significant challenges. Let's explore the major pitfalls:</p>

                <div class="challenge-grid">
                    <div class="challenge-item">
                        <div class="challenge-header">
                            <span class="challenge-icon"></span>
                            <h3>Tool Hallucination</h3>
                        </div>
                        <p>Agents might invent non-existent tools or misuse real ones.</p>
                        <div class="code-example">
                            <pre><code class="language-json">{
  "tool": "orderQuantumChai",
  "args": {"dimensions": 11}
}</code></pre>
                        </div>
                        <div class="impact-label danger">Impact: System crashes, failed transactions</div>
                    </div>

                    <div class="challenge-item">
                        <div class="challenge-header">
                            <span class="challenge-icon"></span>
                            <h3>State & Memory Drift</h3>
                        </div>
                        <p>Context loss over long conversations or sessions.</p>
                        <ul class="timeline-list">
                            <li>Day 1: "I like extra ginger"</li>
                            <li>Day 5: "Do you like ginger?"</li>
                            <li>Day 10: Orders without sugar</li>
                        </ul>
                        <div class="impact-label warning">Impact: Degraded UX, lost personalization</div>
                    </div>

                    <div class="challenge-item">
                        <div class="challenge-header">
                            <span class="challenge-icon"></span>
                            <h3>Security Risks</h3>
                        </div>
                        <p>Access to sensitive systems creates vulnerabilities.</p>
                        <ul class="risk-list">
                            <li>Data leakage</li>
                            <li>Unauthorized transactions</li>
                            <li>Credential exposure</li>
                            <li>Prompt injection attacks</li>
                        </ul>
                        <div class="impact-label danger">Impact: Financial loss, compliance violations</div>
                    </div>

                    <div class="challenge-item">
                        <div class="challenge-header">
                            <span class="challenge-icon">‚è±Ô∏è</span>
                            <h3>Latency & Costs</h3>
                        </div>
                        <p>Every tool call adds overhead.</p>
                        <div class="calculation-box">
                            <div>200ms √ó 20 calls = <strong>4 seconds</strong></div>
                            <div>$0.01 √ó 20 calls = <strong>$0.20</strong></div>
                        </div>
                        <div class="impact-label warning">Impact: Poor UX, unsustainable costs</div>
                    </div>
                </div>

                <blockquote class="highlight-quote">
                    You need an architecture to <strong>standardize, validate, and safely coordinate</strong> these tool interactions. You need a protocol that agents and tools can both understand.
                </blockquote>

                <p class="emphasis-text">Enter the Model Context Protocol (MCP).</p>
            </section>

            <div class="section-divider"></div>

            <!-- MCP Introduction -->
            <section id="mcp-intro" class="content-section">
                <h2>Introducing the Model Context Protocol</h2>

                <h3>The USB-C of AI</h3>

                <p>Before USB-C, every device had its own connector‚Äîphones, laptops, cameras each requiring different cables. USB-C standardized everything. That's precisely the role of <strong>MCP</strong> in the agentic AI ecosystem.</p>

                <div class="analogy-diagram">
                    <div class="analogy-section">
                        <h4>Before MCP</h4>
                        <div class="fragmented-list">
                            <div class="fragment-item">OpenAI ‚Üí Custom Integration</div>
                            <div class="fragment-item">Anthropic ‚Üí Different API</div>
                            <div class="fragment-item">Google ‚Üí Another Format</div>
                            <div class="fragment-item">Microsoft ‚Üí Unique Protocol</div>
                        </div>
                    </div>

                    <div class="analogy-arrow">‚Üí</div>

                    <div class="analogy-section">
                        <h4>With MCP</h4>
                        <div class="unified-list">
                            <div class="unified-item">‚úì Universal Standard</div>
                            <div class="unified-item">‚úì One Protocol</div>
                            <div class="unified-item">‚úì Plug & Play</div>
                        </div>
                    </div>
                </div>

                <h3>What is MCP?</h3>

                <p><strong>Model Context Protocol (MCP)</strong> is an open standard that defines how AI agents communicate with external systems. It defines:</p>

                <div class="definition-grid">
                    <div class="definition-card">
                        <div class="def-icon">üîç</div>
                        <h4>Discovery</h4>
                        <p>How agents find available tools</p>
                    </div>

                    <div class="definition-card">
                        <div class="def-icon">‚ö°</div>
                        <h4>Invocation</h4>
                        <p>How agents call those tools</p>
                    </div>

                    <div class="definition-card">
                        <div class="def-icon">üìã</div>
                        <h4>Schemas</h4>
                        <p>How data structures are validated</p>
                    </div>
                </div>

                <div class="quote-box">
                    <p class="quote-text">"MCP is an open protocol that standardizes how applications provide context to large language models (LLMs). It simplifies how models access tools, data, and workflows‚Äîacting as a universal interface layer."</p>
                    <p class="quote-attribution">‚Äî Anthropic</p>
                </div>
            </section>

            <div class="section-divider"></div>

            <!-- Architecture -->
            <section id="architecture" class="content-section">
                <h2>MCP Architecture and Core Concepts</h2>

                <h3>The Three Key Components</h3>

                <div class="architecture-cards">
                    <div class="arch-card client-card">
                        <h4>ü§ñ MCP Client (Agent)</h4>
                        <p>Your AI agent‚Äîthe chai-loving decision-maker. The client:</p>
                        <ul>
                            <li>Discovers available tools from servers</li>
                            <li>Decides which tool to invoke based on user goals</li>
                            <li>Sends structured requests to servers</li>
                            <li>Processes responses and continues workflows</li>
                        </ul>
                        <div class="examples">Examples: Claude Desktop, Cursor IDE, custom LLMs</div>
                    </div>

                    <div class="arch-card server-card">
                        <h4>‚öôÔ∏è MCP Server (Tools)</h4>
                        <p>A server that exposes:</p>
                        <ul>
                            <li><strong>Tools:</strong> Functions the agent can call</li>
                            <li><strong>Resources:</strong> Data the agent can access</li>
                            <li><strong>Prompts:</strong> Pre-defined workflows</li>
                        </ul>
                        <div class="examples">Examples: Weather API server, Database query server, Payment server</div>
                    </div>

                    <div class="arch-card protocol-card">
                        <h4>üîå MCP Protocol (Standard)</h4>
                        <p>The protocol defines:</p>
                        <ul>
                            <li><strong>Discovery API:</strong> GET /discover</li>
                            <li><strong>Invocation API:</strong> POST /invoke/{toolName}</li>
                            <li><strong>Response Format:</strong> Structured JSON</li>
                            <li><strong>Security Layer:</strong> Auth, authorization, rate limiting</li>
                        </ul>
                    </div>
                </div>

                <h3>How Discovery Works</h3>

                <p>When an agent connects to an MCP server, it first asks: <strong>"What can you do?"</strong></p>

                <div class="code-block-section">
                    <h4>Request:</h4>
                    <pre><code class="language-http">GET /discover</code></pre>

                    <h4>Response:</h4>
                    <pre><code class="language-json">{
  "tools": {
    "placeOrder": {
      "description": "Place a chai order",
      "input_schema": {
        "type": "object",
        "properties": {
          "cafe_id": {"type": "integer"},
          "sugar": {"type": "boolean"},
          "ginger_level": {"type": "integer", "minimum": 0, "maximum": 5}
        },
        "required": ["cafe_id"]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "order_id": {"type": "integer"},
          "eta_minutes": {"type": "integer"}
        }
      }
    }
  }
}</code></pre>
                </div>

                <h3>Key Benefits</h3>

                <div class="benefits-grid">
                    <div class="benefit-card">
                        <span class="benefit-icon">‚úÖ</span>
                        <h4>No Hallucination</h4>
                        <p>Agents discover tools‚Äînever guess</p>
                    </div>

                    <div class="benefit-card">
                        <span class="benefit-icon">üõ°Ô∏è</span>
                        <h4>Schema Validation</h4>
                        <p>All inputs validated automatically</p>
                    </div>

                    <div class="benefit-card">
                        <span class="benefit-icon">üîÑ</span>
                        <h4>Modularity</h4>
                        <p>Swap servers without code changes</p>
                    </div>

                    <div class="benefit-card">
                        <span class="benefit-icon">üåê</span>
                        <h4>Interoperability</h4>
                        <p>Any client works with any server</p>
                    </div>
                </div>
            </section>

            <div class="section-divider"></div>

            <!-- Solutions -->
            <section id="solutions" class="content-section">
                <h2>How MCP Solves Agent Challenges</h2>

                <p>Let's revisit those challenges and see how MCP addresses them:</p>

                <div class="solution-grid">
                    <div class="solution-card">
                        <div class="problem-tag">‚ùå Tool Hallucination</div>
                        <div class="solution-arrow">‚Üí</div>
                        <div class="solution-tag">‚úÖ Discovery API</div>
                        <div class="solution-details">
                            <p><strong>Before:</strong> Agent invents "orderQuantumChai()"</p>
                            <p><strong>With MCP:</strong> Agent queries /discover, sees only valid tools</p>
                            <div class="impact-positive">Eliminates hallucination entirely</div>
                        </div>
                    </div>

                    <div class="solution-card">
                        <div class="problem-tag">‚ùå State Drift</div>
                        <div class="solution-arrow">‚Üí</div>
                        <div class="solution-tag">‚úÖ Resource Access</div>
                        <div class="solution-details">
                            <p><strong>Before:</strong> Agent forgets user preferences</p>
                            <p><strong>With MCP:</strong> GET /resources/userPreferences</p>
                            <div class="impact-positive">Persistent, centralized state</div>
                        </div>
                    </div>

                    <div class="solution-card">
                        <div class="problem-tag">‚ùå Security Risks</div>
                        <div class="solution-arrow">‚Üí</div>
                        <div class="solution-tag">‚úÖ Auth Layer</div>
                        <div class="solution-details">
                            <p><strong>Before:</strong> Agent has direct API keys</p>
                            <p><strong>With MCP:</strong> Centralized auth, permissions, audit logs</p>
                            <div class="impact-positive">Principle of least privilege</div>
                        </div>
                    </div>

                    <div class="solution-card">
                        <div class="problem-tag">‚ùå Complex Orchestration</div>
                        <div class="solution-arrow">‚Üí</div>
                        <div class="solution-tag">‚úÖ Server Composition</div>
                        <div class="solution-details">
                            <p><strong>Before:</strong> Agent chains multiple calls</p>
                            <p><strong>With MCP:</strong> Server exposes composite tools</p>
                            <div class="impact-positive">Reduced agent complexity</div>
                        </div>
                    </div>
                </div>

                <blockquote class="insight-quote">
                    <strong>The Meta-Insight:</strong> MCP shifts responsibility from agents to protocol. Instead of brittle, error-prone knowledge of every tool, agents work through a well-defined standard. This reduces tight coupling and unlocks safer, more scalable systems.
                </blockquote>
            </section>

            <div class="section-divider"></div>

            <!-- Building Guide -->
            <section id="building" class="content-section">
                <h2>Building Your First MCP Server</h2>

                <p class="intro-text">Alright, enough theory! Time to get our hands dirty and build something <em>real</em>. We're upgrading from our hypothetical chai server to something you can actually use: a <strong>Weather MCP Server</strong> that fetches live weather data. Then, because we're overachievers, we'll build News and Finance servers too. And finally, we'll create an intelligent client that uses LLMs to decide which tools to call.</p>

                <blockquote class="pullquote">
                    "Talk is cheap. Show me the code." ‚Äî Linus Torvalds (probably after his morning coffee)
                </blockquote>

                <h3>The Game Plan</h3>

                <p>We're building a complete MCP ecosystem with:</p>

                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">üå§Ô∏è</div>
                        <h4>Weather Server</h4>
                        <p>Real-time weather & forecasts</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">üì∞</div>
                        <h4>News Server</h4>
                        <p>Latest headlines & search</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">üí±</div>
                        <h4>Finance Server</h4>
                        <p>Currency exchange rates</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">ü§ñ</div>
                        <h4>Smart Client</h4>
                        <p>LLM-powered orchestration</p>
                    </div>
                </div>

                <h3>Prerequisites</h3>

                <ul class="checklist">
                    <li><strong>Python 3.13</strong> (because we like living on the edge)</li>
                    <li><strong>UV Package Manager</strong> (pip's cooler younger sibling)</li>
                    <li><strong>A sense of adventure</strong> (and maybe some coffee)</li>
                </ul>

                <h3>Step 1: Project Setup with UV</h3>

                <p>First, let's set up our project. UV is like npm but for Python‚Äîfast, modern, and doesn't make you wait.</p>

                <pre><code class="language-bash"># Install UV (if you haven't already)
pip install uv

# Create project directory
mkdir mcp-servers && cd mcp-servers
uv init .

# Install dependencies
uv add "mcp[cli]" httpx python-dotenv anthropic openai

# Create project structure
mkdir server client examples</code></pre>

                <div class="tip-box">
                    <strong>üí° Why UV?</strong>
                    <ul>
                        <li>10-100x faster than pip (not a typo)</li>
                        <li>Deterministic dependency resolution (no more "works on my machine")</li>
                        <li>Built-in virtual environment management</li>
                        <li>Written in Rust (so you know it's fast)</li>
                    </ul>
                </div>

                <h3>Step 2: Environment Variables</h3>

                <p>Create a <code>.env</code> file with your API keys. Don't worry, we'll add it to <code>.gitignore</code> faster than you can say "credential leak".</p>

                <pre><code class="language-bash"># LLM Provider (choose your fighter)
ANTHROPIC_API_KEY=your_claude_key_here
OPENAI_API_KEY=your_openai_key_here
LLM_PROVIDER=openai  # or "anthropic"

# External APIs (optional - we have fallbacks)
OPENWEATHER_API_KEY=your_key_here
NEWS_API_KEY=your_key_here
EXCHANGERATE_API_KEY=your_key_here</code></pre>

                <h3>Step 3: Build the Weather Server</h3>

                <p>Here's where the magic happens. We're using <strong>FastMCP</strong>‚Äîa library that makes MCP servers so easy it feels like cheating.</p>

                <pre><code class="language-python">"""
Weather MCP Server - Because "Is it raining?" is a timeless question
"""
import os
import httpx
from mcp.server.fastmcp import FastMCP
from dotenv import load_dotenv

load_dotenv()

# Initialize FastMCP - this is literally all the boilerplate you need
mcp = FastMCP(name="weather")

OPENWEATHER_API_KEY = os.getenv("OPENWEATHER_API_KEY", "")
OPENWEATHER_BASE_URL = "https://api.openweathermap.org/data/2.5"


@mcp.tool()
async def get_current_weather(location: str, units: str = "metric") -> str:
    """Get current weather conditions for any location.

    Args:
        location: City name (e.g., "London", "Tokyo")
        units: Temperature units - "metric", "imperial", or "standard"

    Returns:
        Current weather including temperature, humidity, conditions
    """
    if not OPENWEATHER_API_KEY:
        return "Error: API key not configured"

    url = f"{OPENWEATHER_BASE_URL}/weather?q={location}&appid={OPENWEATHER_API_KEY}&units={units}"

    async with httpx.AsyncClient() as client:
        response = await client.get(url, timeout=30.0)
        data = response.json()

    temp_unit = "¬∞C" if units == "metric" else "¬∞F"

    return f"""
Weather in {data['name']}, {data['sys']['country']}:
Temperature: {data['main']['temp']}{temp_unit}
Feels like: {data['main']['feels_like']}{temp_unit}
Conditions: {data['weather'][0]['description'].capitalize()}
Humidity: {data['main']['humidity']}%
Wind Speed: {data['wind']['speed']} m/s
""".strip()


@mcp.tool()
async def get_forecast(location: str, days: int = 5) -> str:
    """Get weather forecast for upcoming days.

    Args:
        location: City name
        days: Number of days to forecast (1-5)

    Returns:
        Weather forecast for specified days
    """
    # Implementation similar to above...
    # (Check the full code for details)
    pass


if __name__ == "__main__":
    print("Starting Weather MCP Server...")
    mcp.run()</code></pre>

                <div class="info-box">
                    <h4>üéØ What Just Happened?</h4>
                    <p><strong>Zero boilerplate!</strong> Notice how we didn't write a single line of discovery API, schema generation, or validation logic? FastMCP handles all of that automatically by:</p>
                    <ul>
                        <li>Parsing your function docstrings to create tool descriptions</li>
                        <li>Analyzing type hints to generate JSON schemas</li>
                        <li>Setting up the stdio transport layer</li>
                        <li>Handling all the MCP protocol handshakes</li>
                    </ul>
                    <p>This is what "infrastructure as code" should feel like.</p>
                </div>

                <h3>Step 4: Build News & Finance Servers</h3>

                <p>Following the same pattern, we can create News and Finance servers. Here's the News server in all its glory:</p>

                <pre><code class="language-python">"""
News MCP Server - Stay informed, stay caffeinated
"""
from mcp.server.fastmcp import FastMCP

mcp = FastMCP(name="news")

@mcp.tool()
async def get_headlines(category: str = "general", country: str = "us") -> str:
    """Get top news headlines by category.

    Args:
        category: "business", "technology", "sports", "entertainment", etc.
        country: Two-letter country code (e.g., "us", "gb")
    """
    # Fetches from NewsAPI and returns formatted headlines
    pass

@mcp.tool()
async def search_news(query: str, language: str = "en") -> str:
    """Search news articles by keyword.

    Args:
        query: Search term (e.g., "artificial intelligence")
        language: Language code (e.g., "en", "es")
    """
    # Searches NewsAPI and returns results
    pass

if __name__ == "__main__":
    mcp.run()</code></pre>

                <p>And the Finance server for good measure:</p>

                <pre><code class="language-python">"""
Finance MCP Server - Money talks, we translate
"""
from mcp.server.fastmcp import FastMCP

mcp = FastMCP(name="finance")

@mcp.tool()
async def get_exchange_rates(base_currency: str = "USD") -> str:
    """Get current exchange rates for a currency."""
    pass

@mcp.tool()
async def convert_currency(from_currency: str, to_currency: str, amount: float) -> str:
    """Convert amount between two currencies."""
    pass

@mcp.tool()
async def get_supported_currencies() -> str:
    """Get list of supported currency codes."""
    pass

if __name__ == "__main__":
    mcp.run()</code></pre>

                <div class="success-box">
                    <strong>üéâ Achievement Unlocked!</strong> Three production MCP servers in less code than a typical Express.js hello world.
                </div>

                <h3>Step 5: Build the Intelligent Client</h3>

                <p>Now for the fun part: building a client that <em>actually uses an LLM</em> to decide which tools to call. This is where agentic behavior comes to life.</p>

                <pre><code class="language-python">"""
MCP Client - The brains of the operation
"""
import asyncio
from typing import Dict, Any, List
from mcp import ClientSession, StdioServerParameters
from mcp.client.stdio import stdio_client
from anthropic import Anthropic  # or use OpenAI

class MCPClient:
    def __init__(self):
        self.tools: List[Dict[str, Any]] = []
        self.conversation_history: List[Dict[str, Any]] = []
        self.session = None
        self.llm = Anthropic(api_key=os.getenv("ANTHROPIC_API_KEY"))

    async def connect_to_server(self, server_script: str):
        """Connect to an MCP server via stdio."""
        server = StdioServerParameters(
            command="python",
            args=[server_script],
            env=None
        )

        # Create stdio client
        stdio = stdio_client(server)
        read_stream, write_stream = await stdio.__aenter__()
        self._stdio_context = stdio

        # Create and initialize session
        self.session = ClientSession(read_stream, write_stream)
        await self.session.__aenter__()
        await self.session.initialize()

        # Discover available tools
        tools_result = await self.session.list_tools()
        for tool in tools_result.tools:
            self.tools.append({
                "name": tool.name,
                "description": tool.description,
                "inputSchema": tool.inputSchema
            })

        print(f"Connected! Discovered {len(self.tools)} tools")

    async def chat(self, user_message: str) -> str:
        """Process user message using LLM and tool calling."""
        self.conversation_history.append({
            "role": "user",
            "content": user_message
        })

        # LLM decides which tool to use
        response = self.llm.messages.create(
            model="claude-3-5-sonnet-20241022",
            max_tokens=4096,
            messages=self.conversation_history,
            tools=self.tools
        )

        # If LLM wants to call a tool
        if response.stop_reason == "tool_use":
            for tool_use in response.content:
                if tool_use.type == "tool_use":
                    # Invoke tool via MCP
                    result = await self.session.call_tool(
                        tool_use.name,
                        tool_use.input
                    )

                    # Get LLM's final response
                    # ... (handle tool result and get final answer)

        return response.content[0].text</code></pre>

                <div class="info-box">
                    <h4>üß† How It Works</h4>
                    <ol>
                        <li><strong>Discovery:</strong> Client connects to server and asks "What tools do you have?"</li>
                        <li><strong>User Query:</strong> "What's the weather in London?"</li>
                        <li><strong>LLM Decision:</strong> Claude sees available tools and decides to call <code>get_current_weather</code></li>
                        <li><strong>Tool Execution:</strong> Client invokes the tool via MCP protocol</li>
                        <li><strong>Response:</strong> LLM formats the result naturally: "It's 15¬∞C and cloudy in London"</li>
                    </ol>
                    <p>This is agentic AI in action‚Äîthe LLM autonomously selects and uses the right tool.</p>
                </div>

                <h3>Step 6: Test Your Creation</h3>

                <p>Time for the moment of truth. Let's spin up our weather server and ask it questions:</p>

                <pre><code class="language-bash"># Terminal 1: Run the test
uv run python examples/test_demo.py</code></pre>

                <p>You should see something like this:</p>

                <pre><code class="language-bash">======================================================================
TEST SUMMARY
======================================================================
[PASS] Weather Server - 2 tools discovered
  ‚úì get_current_weather
  ‚úì get_forecast

[PASS] News Server - 2 tools discovered
  ‚úì get_headlines
  ‚úì search_news

[PASS] Finance Server - 3 tools discovered
  ‚úì get_exchange_rates
  ‚úì convert_currency
  ‚úì get_supported_currencies

Total: 3/3 tests passed
======================================================================</code></pre>

                <div class="success-box">
                    <strong>üéâ Victory!</strong> You've just built a complete agentic AI system with:
                    <ul>
                        <li>3 production MCP servers with 7 tools</li>
                        <li>1 intelligent client with LLM integration</li>
                        <li>Automatic tool discovery and invocation</li>
                        <li>Clean, maintainable code (under 500 lines total)</li>
                    </ul>
                </div>

                <h3>Step 7: Try Interactive Mode</h3>

                <p>Want to chat with your servers? Run the interactive client:</p>

                <pre><code class="language-bash">uv run python examples/interactive_client.py

# Then ask questions like:
# > What's the weather in Tokyo?
# > Show me technology news
# > Convert 100 USD to EUR</code></pre>

                <p>Watch as the LLM intelligently routes your questions to the right server and tool!</p>

                <div class="info-box">
                    <h4>üöÄ What Makes This Production-Ready?</h4>
                    <ul>
                        <li><strong>Error Handling:</strong> Graceful failures with user-friendly messages</li>
                        <li><strong>Type Safety:</strong> Full type hints and validation via Pydantic</li>
                        <li><strong>Async/Await:</strong> Non-blocking I/O for better performance</li>
                        <li><strong>Environment Config:</strong> Secrets in .env, never in code</li>
                        <li><strong>Modern Python:</strong> Python 3.13 with latest async patterns</li>
                        <li><strong>Zero Boilerplate:</strong> FastMCP handles all protocol details</li>
                    </ul>
                </div>

                <h3>The Full Picture</h3>

                <p>Here's what you've built:</p>

                <pre><code class="language-bash">mcp-servers/
‚îú‚îÄ‚îÄ server/
‚îÇ   ‚îú‚îÄ‚îÄ weather_server.py    # 114 lines - Weather data
‚îÇ   ‚îú‚îÄ‚îÄ news_server.py        # 118 lines - News headlines
‚îÇ   ‚îî‚îÄ‚îÄ finance_server.py     # 145 lines - Currency exchange
‚îú‚îÄ‚îÄ client/
‚îÇ   ‚îú‚îÄ‚îÄ config.py             # 36 lines - Settings management
‚îÇ   ‚îú‚îÄ‚îÄ llm_provider.py       # 199 lines - Anthropic/OpenAI wrapper
‚îÇ   ‚îî‚îÄ‚îÄ mcp_client.py         # 248 lines - Main client logic
‚îú‚îÄ‚îÄ examples/
‚îÇ   ‚îú‚îÄ‚îÄ test_demo.py          # Automated tests
‚îÇ   ‚îî‚îÄ‚îÄ interactive_client.py # Chat interface
‚îú‚îÄ‚îÄ .env                       # API keys (gitignored!)
‚îî‚îÄ‚îÄ pyproject.toml            # Dependencies</code></pre>

                <p><strong>Total:</strong> ~860 lines of clean, production-ready code that would take thousands of lines with traditional approaches.</p>

                <blockquote class="highlight-quote">
                    <strong>The Magic of FastMCP:</strong> What you <em>didn't</em> write is just as important as what you did. No manual schema generation, no custom discovery endpoints, no protocol handshaking, no validation logic. Just pure business logic wrapped in decorators. That's the power of good abstractions.
                </blockquote>

                <div class="cta-section" style="margin-top: 40px; padding: 30px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 15px; text-align: center;">
                    <h3 style="color: white; margin-bottom: 20px;">Want the Complete Implementation Guide?</h3>
                    <p style="color: white; margin-bottom: 30px; font-size: 1.1em;">Get the full source code, detailed walkthroughs, LangSmith monitoring setup, deployment guides, and real-world extension examples. Everything you need to go from zero to production.</p>
                    <div class="cta-buttons">
                        <a href="../fastmcp-implementation/index.html" class="cta-button" style="display: inline-block; padding: 15px 40px; background: white; color: #2563eb; text-decoration: none; border-radius: 10px; font-weight: 600; font-size: 1.1em; margin: 10px;">
                            üìñ Complete Step-by-Step Guide
                        </a>
                        <a href="../fastmcp-implementation/COMPLETE_GUIDE.md" class="cta-button" style="display: inline-block; padding: 15px 40px; background: rgba(255,255,255,0.2); color: white; text-decoration: none; border-radius: 10px; font-weight: 600; font-size: 1.1em; margin: 10px;">
                            üìÑ Full Documentation (MD)
                        </a>
                    </div>
                </div>
            </section>

            <div class="section-divider"></div>

            <!-- Deployment -->
            <section id="deployment" class="content-section">
                <h2>Production Deployment</h2>

                <p>Now let's take your Chai MCP Server from localhost to production-grade cloud deployment.</p>

                <h3>Deployment Options</h3>

                <div class="deployment-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Platform</th>
                                <th>Best For</th>
                                <th>Setup Time</th>
                                <th>Scalability</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Render</strong></td>
                                <td>Quick demos, MVPs</td>
                                <td>5 minutes</td>
                                <td>Auto-scale</td>
                            </tr>
                            <tr>
                                <td><strong>AWS ECS</strong></td>
                                <td>Enterprise B2B</td>
                                <td>30 minutes</td>
                                <td>High</td>
                            </tr>
                            <tr>
                                <td><strong>Google Cloud Run</strong></td>
                                <td>Serverless scale</td>
                                <td>10 minutes</td>
                                <td>Very high</td>
                            </tr>
                            <tr>
                                <td><strong>Kubernetes</strong></td>
                                <td>Multi-tenant, enterprise</td>
                                <td>2-4 hours</td>
                                <td>Extremely high</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>Production Checklist</h3>

                <div class="checklist-grid">
                    <label class="checklist-item">
                        <input type="checkbox" />
                        <span>HTTPS/TLS enabled</span>
                    </label>
                    <label class="checklist-item">
                        <input type="checkbox" />
                        <span>Health check endpoint</span>
                    </label>
                    <label class="checklist-item">
                        <input type="checkbox" />
                        <span>Structured logging</span>
                    </label>
                    <label class="checklist-item">
                        <input type="checkbox" />
                        <span>API authentication</span>
                    </label>
                    <label class="checklist-item">
                        <input type="checkbox" />
                        <span>Rate limiting</span>
                    </label>
                    <label class="checklist-item">
                        <input type="checkbox" />
                        <span>Error tracking</span>
                    </label>
                    <label class="checklist-item">
                        <input type="checkbox" />
                        <span>CI/CD pipeline</span>
                    </label>
                    <label class="checklist-item">
                        <input type="checkbox" />
                        <span>Load testing</span>
                    </label>
                </div>
            </section>

            <div class="section-divider"></div>

            <!-- Security -->
            <section id="security" class="content-section">
                <h2>Security & Best Practices</h2>

                <p>Building an MCP server is one thing‚Äîbuilding a <strong>secure, trustworthy, production-grade</strong> MCP server is another.</p>

                <div class="security-grid">
                    <div class="security-card">
                        <div class="security-icon">üîê</div>
                        <h4>Authentication</h4>
                        <p>API keys or OAuth; never basic auth over HTTP</p>
                    </div>

                    <div class="security-card">
                        <div class="security-icon">‚ö°</div>
                        <h4>Rate Limiting</h4>
                        <p>Per-tenant limits with burst allowance</p>
                    </div>

                    <div class="security-card">
                        <div class="security-icon">‚úÖ</div>
                        <h4>Input Validation</h4>
                        <p>Use Pydantic; validate all inputs</p>
                    </div>

                    <div class="security-card">
                        <div class="security-icon">üîí</div>
                        <h4>Secrets Management</h4>
                        <p>Environment variables + secret managers</p>
                    </div>

                    <div class="security-card">
                        <div class="security-icon">üìä</div>
                        <h4>Audit Logging</h4>
                        <p>Structured JSON logs for all tool calls</p>
                    </div>

                    <div class="security-card">
                        <div class="security-icon">üõ°Ô∏è</div>
                        <h4>CORS Configuration</h4>
                        <p>Whitelist specific origins only</p>
                    </div>
                </div>

                <div class="warning-box">
                    <strong>‚ö†Ô∏è Security Warning:</strong> MCP provides a protocol, not automatic security. Never expose dangerous operations without strict controls. Always implement authentication, authorization, and audit trails.
                </div>
            </section>

            <div class="section-divider"></div>

            <!-- Limitations -->
            <section id="limitations" class="content-section">
                <h2>Limitations and Real-World Considerations</h2>

                <p>Even with MCP, building robust agentic systems remains challenging. Here are the honest limitations:</p>

                <div class="limitation-list">
                    <div class="limitation-item">
                        <h4>1. Security Is Only As Good As Your Implementation</h4>
                        <p>MCP provides a protocol, not automatic security. You must implement proper controls, validation, and monitoring.</p>
                    </div>

                    <div class="limitation-item">
                        <h4>2. Latency & Cumulative Overhead</h4>
                        <p>Each tool call adds 300-1000ms. For workflows with 10 calls: 3-10 seconds total. Mitigation: batching, streaming, edge deployment.</p>
                    </div>

                    <div class="limitation-item">
                        <h4>3. Single Point of Failure</h4>
                        <p>If your MCP server goes down, the entire agent system breaks. Mitigation: high availability, circuit breakers, redundancy.</p>
                    </div>

                    <div class="limitation-item">
                        <h4>4. Cost Accumulation</h4>
                        <p>High-traffic scenarios can accumulate significant costs. Mitigation: caching, optimization, usage-based pricing.</p>
                    </div>

                    <div class="limitation-item">
                        <h4>5. Complexity Doesn't Disappear‚ÄîIt Shifts</h4>
                        <p>You still need schema design, error handling, state management, security, and monitoring. MCP is an enabler, not a silver bullet.</p>
                    </div>
                </div>
            </section>

            <div class="section-divider"></div>

            <!-- Conclusion -->
            <section id="conclusion" class="content-section">
                <h2>Conclusion: Your Chai Awaits</h2>

                <p class="lead-text">We started with a simple desire: ordering chai when it rains.</p>

                <p>What seemed like a trivial task revealed profound shifts in how we build AI systems:</p>

                <ol class="conclusion-list">
                    <li><strong>From reactive to proactive:</strong> Agents that anticipate needs, not just respond to commands.</li>
                    <li><strong>From monoliths to modularity:</strong> Tools as composable services, not baked-in features.</li>
                    <li><strong>From chaos to protocol:</strong> Standardized interfaces that enable interoperability and safety.</li>
                </ol>

                <div class="final-takeaway">
                    <h3>What You've Learned</h3>
                    <ul>
                        <li>Deep understanding of agentic AI fundamentals</li>
                        <li>Practical knowledge of MCP architecture</li>
                        <li>Complete MCP server implementation</li>
                        <li>Production deployment strategies</li>
                        <li>Security and governance best practices</li>
                        <li>Real-world limitations and tradeoffs</li>
                    </ul>
                </div>

                <blockquote class="final-quote">
                    <p><strong>The future of AI is agentic.</strong></p>
                    <p><strong>The protocol is MCP.</strong></p>
                    <p><strong>The possibilities are limitless.</strong></p>
                </blockquote>

                <p class="closing-text">Build responsibly, build securely, and build systems that genuinely help people.</p>

                <div class="cta-section">
                    <h3>Ready to Build?</h3>
                    <div class="cta-buttons">
                        <a href="https://modelcontextprotocol.io/" class="cta-button primary" target="_blank">
                            üìö MCP Documentation
                        </a>
                        <a href="index.html" class="cta-button secondary">
                            üé® Interactive Version
                        </a>
                    </div>
                </div>
            </section>

            <!-- References -->
            <section class="content-section references">
                <h2>References & Further Reading</h2>

                <div class="reference-grid">
                    <div class="ref-category">
                        <h4>Academic Research</h4>
                        <ul>
                            <li>Nisa, U. (2025). <em>Agentic AI: The Age of Reasoning</em>. ScienceDirect.</li>
                            <li>Sapkota, R. (2025). <em>AI Agents vs. Agentic AI</em>. ScienceDirect.</li>
                            <li>Pati, A. K. (2025). <em>Comprehensive Survey</em>. IEEE Xplore.</li>
                        </ul>
                    </div>

                    <div class="ref-category">
                        <h4>Industry Reports</h4>
                        <ul>
                            <li>Capgemini Research Institute (2025). <em>Rise of Agentic AI</em>.</li>
                            <li>McKinsey & Company (2025). <em>Seizing the Agentic AI Advantage</em>.</li>
                        </ul>
                    </div>

                    <div class="ref-category">
                        <h4>MCP Protocol</h4>
                        <ul>
                            <li>Anthropic (2024). <em>Introducing MCP</em>.</li>
                            <li>Model Context Protocol Org. <em>Architecture Overview</em>.</li>
                        </ul>
                    </div>
                </div>
            </section>
        </div>
    </article>

    <!-- Author Bio -->
    <section class="author-bio">
        <div class="bio-container">
            <div class="bio-avatar">ü§ñ</div>
            <div class="bio-content">
                <h3>About the Author</h3>
                <p>This guide was written for developers, architects, and AI practitioners building the next generation of intelligent systems. Whether you're creating a simple chai-ordering bot or a complex enterprise agent platform, may your implementations be secure, your latencies low, and your chai always perfectly spiced.</p>
                <div class="bio-links">
                    <a href="#" class="bio-link">More Articles</a>
                    <span class="dot">‚Ä¢</span>
                    <a href="index.html" class="bio-link">Interactive Demo</a>
                    <span class="dot">‚Ä¢</span>
                    <a href="#" class="bio-link">Follow</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Related Articles -->
    <section class="related-articles">
        <div class="related-container">
            <h2>Continue Learning</h2>
            <div class="related-grid">
                <article class="related-card">
                    <div class="related-tag">Tutorial</div>
                    <h3>Building Production APIs with FastAPI</h3>
                    <p>Learn advanced patterns for building robust, scalable APIs.</p>
                    <a href="#" class="read-more">Read more ‚Üí</a>
                </article>

                <article class="related-card">
                    <div class="related-tag">Deep Dive</div>
                    <h3>Understanding LLM Function Calling</h3>
                    <p>How language models decide which tools to use and when.</p>
                    <a href="#" class="read-more">Read more ‚Üí</a>
                </article>

                <article class="related-card">
                    <div class="related-tag">Case Study</div>
                    <h3>Scaling AI Agents in Production</h3>
                    <p>Real-world lessons from deploying agentic systems at scale.</p>
                    <a href="#" class="read-more">Read more ‚Üí</a>
                </article>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="blog-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>‚òï Brewing Intelligence</h4>
                <p>Exploring the intersection of AI, protocols, and practical systems.</p>
            </div>
            <div class="footer-section">
                <h4>Resources</h4>
                <ul>
                    <li><a href="https://modelcontextprotocol.io/">MCP Documentation</a></li>
                    <li><a href="https://www.anthropic.com/">Anthropic</a></li>
                    <li><a href="https://fastapi.tiangolo.com/">FastAPI</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Navigate</h4>
                <ul>
                    <li><a href="index.html">Interactive Version</a></li>
                    <li><a href="#introduction">Back to Top</a></li>
                    <li><a href="#">RSS Feed</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Brewing Intelligence. Built with ‚ù§Ô∏è and ‚òï</p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
    <script src="blog-script.js"></script>
</body>
</html>
